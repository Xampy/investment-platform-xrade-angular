
<h4 class="font-weight-bold py-3 mb-4">
    Fund make deposit
    <div class="text-muted text-tiny mt-1"><small class="font-weight-normal">Today is Tuesday, 8 February 2018</small></div>
  </h4>


<ng-container *ngIf="hasChoosedPaymentMethod==false; else elseNothasChoosedPaymentMethodTemplate">
    
    <div class="row" style="margin-top: 10vh;" *ngIf="hasChoosedPaymentMethod==false">
        <div class="col-md-10 mx-auto mt-3">
            <div class="card mb-4">
                <div class="card-body">
                    <div class="row text-center">
                        <h4>Choose your deposit method</h4>
                    </div>
                    <div class="mt-5 mb-5" style="display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-around;">
                        <div class="payment-item">
                            <div class="payment-image-container" (click)="swithPaymentMethod('bank')">
                                <img src="assets/img/MasterCard.svg" width="50" height="30" alt="">
                            </div>
                            <small class="payment-title">Credit & Debit Card</small>
                        </div>
                        <div class="payment-item">
                            <div class="payment-image-container" (click)="swithPaymentMethod('perfect-money')">
                                <img src="assets/img/PerfectM.gif" width="80" height="30" alt="">
                            </div>
                            <small class="payment-title">Perfect Money</small>
                        </div>
                        <div class="payment-item">
                            <div class="payment-image-container" (click)="swithPaymentMethod('crypto')">
                                <img src="assets/img/bitcoin_img.png" width="50" height="50" alt="">
                            </div>
                            <small class="payment-title">Bitcoin</small>
                        </div>
                        <div class="payment-item">
                            <div class="payment-image-container" (click)="swithPaymentMethod('paypal')">
                                <img src="assets/img/paypal_icon.svg" width="80" height="30" alt="">
                            </div>
                            <small class="payment-title">Paypal</small>
                        </div>
                        <div class="payment-item">
                            <div class="payment-image-container" (click)="swithPaymentMethod('web-money')">
                                <img src="assets/img/WebMoney.svg" width="80" height="30" alt="">
                            </div>
                            <small class="payment-title">Web Money</small>
                        </div>
                        <div class="payment-item">
                            <div class="payment-image-container">
                                <img src="assets/img/NETeller.svg" width="80" height="30" alt="">
                            </div>
                            <small class="payment-title">Netteler</small>
                        </div>
                        <div class="payment-item">
                            <div class="payment-image-container">
                                <img src="assets/img/payeer-logo.png" width="80" height="20" alt="">
                            </div>
                            <small class="payment-title">Payeer</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-container>
<ng-template #elseNothasChoosedPaymentMethodTemplate>

    <div class="card mb-4">
        <div class="card-header text-right">
            <button class="btn btn-sm btn-danger" (click)="cancelPaymentMehod($event)">
                Cancel
            </button>
        </div>
        <div class="card-body">
            <app-perfect-money-component ></app-perfect-money-component>
        </div>
    </div>
    


    <!-- *ngIf="paymentMethod != null && paymentMethod != ''" -->
    <div class="row" style="margin-top: 10vh;"  >
        <div class="col-md-6 mt-3">
            <div class="card mb-4">
                <div class="card-header text-right">
                    <button class="btn btn-sm btn-danger" (click)="cancelPaymentMehod($event)">
                        Cancel
                    </button>
                </div>
                <div class="card-body">
                    <ng-container [ngSwitch]="paymentMethod">
                        <div *ngSwitchCase="'crypto'" >
                            <label for="btc-address">BTC address <span class="text-danger text-dark">*</span> </label>
                            <input type="text" id="btc-address" class="form-control w-100" disabled>
                            <small class="text-muted">You will be bas asked to scan the qr code above</small>
                        </div>
    
                        <div *ngSwitchCase="'perfect-money'">
                            <div>
                                <app-perfect-money-component #perfectMoneyComponent ></app-perfect-money-component>
                            </div>
                        </div>
        
                        <div *ngSwitchCase="'bank'" >
                            <label for="" style="color: rgb(247, 139, 139);" >Fill credit card data</label>
                            <app-credit-card-component #card></app-credit-card-component>
                            <small>After you will be redirected to the checkout</small>
                        </div>
        
                        <div *ngSwitchCase="'paypal'" >
                            <label for="paypal">Paypal <span class="text-danger text-dark">*</span> </label>
                            <input type="text" id="paypal" class="form-control w-100">
                            <small class="text-muted">Specify your email address or phone number</small>
                        </div>
                        
                    </ng-container>
                </div>
                
            </div>
        </div>
    
        <div class="col-md-6 mt-3" *ngIf='paymentMethod!=null'>
    
    
            <div class="card mb-4">
                <div class="card-body">
                    <div id="paymentContainer">
                        <ng-container *ngIf="isPaying==true; else elseNotPayingTemplate">
                            <div class="mt-3" style="display: flex; flex-direction: column; justify-content: center; align-items: center">
                                <div class="spinner-border" role="status">
                                    <span class="sr-only">Loading...</span>
                                </div>
                                <h6 class="mt-3">Please wait...</h6>
                            </div>
                        </ng-container>
                        <ng-template #elseNotPayingTemplate>
                            <table class="table">
                                <tbody>
            
                                    <ng-container *ngIf="paymentStatus=='success'">
                                        <tr>
                                            <td colspan="3">
                                                <p class="panel panel-success">
                                                    Successfully made a deposit of 200 USD
                                                </p>
                                            </td>
                                        </tr>
                                    </ng-container>
            
                                    <ng-container *ngIf="paymentStatus=='failure'">
            
                                    </ng-container>
                                    
            
                                    <ng-container *ngIf='paymentMethod=="other"'>
                                        <tr>
                                            <td class="text-left text-muted">
                                                <p>
                                                    <span class="text-muted">Payment method</span>
                                                </p>
                                                <select name="" id="" class="form-control">
                                                    <option value="bitcoin">Bitcoin</option>
                                                    <option value="credit_card">Credit card</option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-left text-muted">
                                                <p>
                                                    <span class="text-muted">Set the amount in $</span>
                                                </p>
                                                <input [(ngModel)]="amount" type="text" class="form-control w-100" type="number" min="25" value="25">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-left text-muted">
                                                <p>
                                                    <span class="text-muted">Add iformation or description to deposit request</span>
                                                </p>
                                                <textarea [(ngModel)]="metadata" type="text" class="form-control w-100"></textarea>
                                            </td>
                                        </tr>
                                        
                                    </ng-container>
            
            
                                    <ng-container *ngIf='paymentMethod=="bank"'>
            
                                        <tr>
                                            <td colspan="3">
                                                <img src="assets/img/bank_card_img.png" width="40" height="30" alt="">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-left text-muted">
                                                <p>
                                                    <span class="text-muted">Set the amount in $</span>
                                                </p>
                                                <input [(ngModel)]="amount" type="text" class="form-control w-100" type="number" min="25" value="25">
                                            </td>
                                        </tr>
                                    </ng-container>
            
                                    <ng-container *ngIf='paymentMethod=="perfect-money"'>
            
                                        <tr>
                                            <td colspan="3">
                                                <img src="assets/img/PerfectM.gif" height="30" alt="">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-left text-muted">
                                                <p>
                                                    <span class="text-muted">Set the amount in $</span>
                                                </p>
                                                <input [(ngModel)]="amount" type="text" class="form-control w-100" type="number" min="25" value="25">
                                            </td>
                                        </tr>
                                    </ng-container>
            
            
                                    <ng-container *ngIf='paymentMethod=="crypto"'>
            
                                        <tr>
                                            <td colspan="3">
                                                <div class="row">
                                                    <div class="col-md-6 my-auto">
                                                        1 <img src="assets/img/bitcoin_img.png" width="30" height="30" alt="">
                                                    </div>
                                                    <div class="col-md-6 my-auto">
                                                        = 36 654 $
                                                    </div>
                                                </div>
                                                
                                            </td>
                                        </tr>
            
                                        <tr>
            
                                            <td class="text-left text-muted" colspan="3">
                                                <p>
                                                    <span class="text-muted">Set the amount in $</span>
                                                </p>
                                                <input [(ngModel)]="amount" type="text" class="form-control w-100" type="number" min="25" value="25">
                                            </td>
                                        </tr>
            
            
            
                                        <tr>
                                            <td colspan="3" class="text-left mt-3" style="color: black;" >
                                                <h4 class="mt-2">Total : 0.00068 BTC</h4>
                                            </td>
                                        </tr>
            
                                        <tr style="display: none;">
                                            <td colspan="3">
                                                <div style="width: 100%;" class="connectBtn w-100 text-center">
                                                    <a class="text-white text-center"
                                                    target="_blank"
                                                    href="https://commerce.coinbase.com/checkout/efbebfa2-254c-499d-94cc-ba0ed8029761">
                                                        Proceed to payment
                                                    </a>
                                                </div>
                                            </td>
                                        </tr>
            
                                       
                                    </ng-container>
            
                                    
                                    <tr *ngIf="paymentMethod!=null && paymentMethod!='null'">
                                        <td colspan="3">
                                            <button  (click)="pay()" [disabled]="hasChoosedPaymentMethod==false" class="connectBtn w-100" >Proceed payment</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </ng-template>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</ng-template>







  
  <!-- Counters -->
  
  <!-- / Counters -->

  